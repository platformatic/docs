"use strict";(self.webpackChunkplatformatic_oss_website=self.webpackChunkplatformatic_oss_website||[]).push([[8837],{4641:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>o});var t=a(4848),s=a(8453);const i={},l="Example",r={id:"packages/sql-mapper/entities/example",title:"Example",description:"Given this PostgreSQL SQL schema:",source:"@site/docs/packages/sql-mapper/entities/example.md",sourceDirName:"packages/sql-mapper/entities",slug:"/packages/sql-mapper/entities/example",permalink:"/docs/next/packages/sql-mapper/entities/example",draft:!1,unlisted:!1,editUrl:"https://github.com/platformatic/platformatic/edit/main/docs/packages/sql-mapper/entities/example.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"API",permalink:"/docs/next/packages/sql-mapper/entities/api"},next:{title:"Hooks",permalink:"/docs/next/packages/sql-mapper/entities/hooks"}},c={},o=[];function p(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"example",children:"Example"})}),"\n",(0,t.jsx)(n.p,{children:"Given this PostgreSQL SQL schema:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'CREATE TABLE "categories" (\n    "id" int4 NOT NULL DEFAULT nextval(\'categories_id_seq\'::regclass),\n    "name" varchar(255) NOT NULL,\n    PRIMARY KEY ("id")\n);\n\nCREATE TABLE "pages" (\n    "id" int4 NOT NULL DEFAULT nextval(\'pages_id_seq\'::regclass),\n    "title" varchar(255) NOT NULL,\n    "category_id" int4,\n    "user_id" int4,\n    PRIMARY KEY ("id")\n);\n\nALTER TABLE "pages" ADD FOREIGN KEY ("category_id") REFERENCES "categories"("id");\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"app.platformatic.entities"})," will contain this mapping object:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "category": {\n        "name": "Category",\n        "singularName": "category",\n        "pluralName": "categories",\n        "primaryKey": "id",\n        "table": "categories",\n        "fields": {\n            "id": {\n                "sqlType": "int4",\n                "isNullable": false,\n                "primaryKey": true,\n                "camelcase": "id"\n            },\n            "name": {\n                "sqlType": "varchar",\n                "isNullable": false,\n                "camelcase": "name"\n            }\n        },\n        "camelCasedFields": {\n            "id": {\n                "sqlType": "int4",\n                "isNullable": false,\n                "primaryKey": true,\n                "camelcase": "id"\n            },\n            "name": {\n                "sqlType": "varchar",\n                "isNullable": false,\n                "camelcase": "name"\n            }\n        },\n        "relations": [],\n        "reverseRelationships": [\n            {\n                "sourceEntity": "Page",\n                "relation": {\n                    "constraint_catalog": "postgres",\n                    "constraint_schema": "public",\n                    "constraint_name": "pages_category_id_fkey",\n                    "table_catalog": "postgres",\n                    "table_schema": "public",\n                    "table_name": "pages",\n                    "constraint_type": "FOREIGN KEY",\n                    "is_deferrable": "NO",\n                    "initially_deferred": "NO",\n                    "enforced": "YES",\n                    "column_name": "category_id",\n                    "ordinal_position": 1,\n                    "position_in_unique_constraint": 1,\n                    "foreign_table_name": "categories",\n                    "foreign_column_name": "id"\n                }\n            }\n        ]\n    },\n    "page": {\n        "name": "Page",\n        "singularName": "page",\n        "pluralName": "pages",\n        "primaryKey": "id",\n        "table": "pages",\n        "fields": {\n            "id": {\n                "sqlType": "int4",\n                "isNullable": false,\n                "primaryKey": true,\n                "camelcase": "id"\n            },\n            "title": {\n                "sqlType": "varchar",\n                "isNullable": false,\n                "camelcase": "title"\n            },\n            "category_id": {\n                "sqlType": "int4",\n                "isNullable": true,\n                "foreignKey": true,\n                "camelcase": "categoryId"\n            },\n            "user_id": {\n                "sqlType": "int4",\n                "isNullable": true,\n                "camelcase": "userId"\n            }\n        },\n        "camelCasedFields": {\n            "id": {\n                "sqlType": "int4",\n                "isNullable": false,\n                "primaryKey": true,\n                "camelcase": "id"\n            },\n            "title": {\n                "sqlType": "varchar",\n                "isNullable": false,\n                "camelcase": "title"\n            },\n            "categoryId": {\n                "sqlType": "int4",\n                "isNullable": true,\n                "foreignKey": true,\n                "camelcase": "categoryId"\n            },\n            "userId": {\n                "sqlType": "int4",\n                "isNullable": true,\n                "camelcase": "userId"\n            }\n        },\n        "relations": [\n            {\n                "constraint_catalog": "postgres",\n                "constraint_schema": "public",\n                "constraint_name": "pages_category_id_fkey",\n                "table_catalog": "postgres",\n                "table_schema": "public",\n                "table_name": "pages",\n                "constraint_type": "FOREIGN KEY",\n                "is_deferrable": "NO",\n                "initially_deferred": "NO",\n                "enforced": "YES",\n                "column_name": "category_id",\n                "ordinal_position": 1,\n                "position_in_unique_constraint": 1,\n                "foreign_table_name": "categories",\n                "foreign_column_name": "id"\n            }\n        ],\n        "reverseRelationships": []\n    }\n}\n'})})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>r});var t=a(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);